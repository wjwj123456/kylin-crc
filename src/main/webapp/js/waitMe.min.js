/*
waitMe - 1.11 [25.03.15]
Author: vadimsva
Github: https://github.com/vadimsva/waitMe
*/
(function(b){b.fn.waitMe=function(k){return this.each(function(){var g=b(this),x,r,d,t=!1,p="background-color",l="",m="",u,e,c,f,v,h={init:function(){f=b.extend({effect:"bounce",text:"",bg:"rgba(255,255,255,0.7)",color:"#000",sizeW:"",sizeH:"",source:""},k);v=(new Date).getMilliseconds();u=b('<div class="waitMe" data-waitme_id="'+v+'"></div>');var a="width:"+f.sizeW+";height:"+f.sizeH;switch(f.effect){case "none":d=0;break;case "bounce":d=3;e="";c=a;break;case "rotateplane":d=1;e="";c=a;break;case "stretch":d=
5;e="";c=a;break;case "orbit":d=2;e=a;c="";break;case "roundBounce":d=12;e=a;c="";break;case "win8":d=5;t=!0;c=e=a;break;case "win8_linear":d=5;t=!0;e=a;c="";break;case "ios":d=12;e=a;c="";break;case "facebook":d=3;e="";c=a;break;case "rotation":d=1;p="border-color";e="";c=a;break;case "timer":d=2;l="border-color:"+f.color;e=a;c="";break;case "pulse":d=1;p="border-color";e="";c=a;break;case "progressBar":d=1;e="";c=a;break;case "bouncePulse":d=3;e="";c=a;break;case "img":d=1,e="",c=a}""==f.sizeW&&
""==f.sizeH&&(e=c="");""!=e&&""!=l&&(l=";"+l);if(0<d){r=b('<div class="waitMe_progress '+f.effect+'"></div>');if("img"==f.effect)m='<img src="'+f.source+'" style="'+c+'">';else for(a=1;a<=d;++a)m=t?m+('<div class="waitMe_progress_elem'+a+'" style="'+c+'"><div style="'+p+":"+f.color+'"></div></div>'):m+('<div class="waitMe_progress_elem'+a+'" style="'+p+":"+f.color+";"+c+'"></div>');r=b('<div class="waitMe_progress '+f.effect+'" style="'+e+l+'">'+m+"</div>")}f.text&&(x=b('<div class="waitMe_text" style="color:'+
f.color+'">'+f.text+"</div>"));g.find("> .waitMe")&&g.find("> .waitMe").remove();waitMeDivObj=b('<div class="waitMe_content"></div>');waitMeDivObj.append(r,x);u.append(waitMeDivObj);"HTML"==g[0].tagName&&(g=b("body"));g.addClass("waitMe_container").attr("data-waitme_id",v).append(u);g.find("> .waitMe").css({background:f.bg});g.find(".waitMe_content").css({marginTop:-g.find(".waitMe_content").outerHeight()/2+"px"});if(g.outerHeight()>b(window).height()){var h=function(a){g.find(".waitMe_content").css({top:"auto",
transform:"translateY("+a+"px)"})},q=b(window).scrollTop(),n=g.find(".waitMe_content").outerHeight(),w=g.offset().top,y=g.outerHeight(),a=q-w+b(window).height()/2;0>a&&(a=Math.abs(a));0<=a-n&&a+n<=y||(a=q-w+n);h(a);b(document).scroll(function(){q=b(window).scrollTop();var a=q-w+b(window).height()/2;0<=a-n&&a+n<=y&&h(a)})}},hide:function(){var a=g.attr("data-waitme_id");g.removeClass("waitMe_container").removeAttr("data-waitme_id");g.find('.waitMe[data-waitme_id="'+a+'"]').remove()}};if(h[k])return h[k].apply(this,
Array.prototype.slice.call(arguments,1));if("object"===typeof k||!k)return h.init.apply(this,arguments);b.event.special.destroyed={remove:function(a){a.handler&&a.handler()}}})};b(window).load(function(){b("body.waitMe_body").addClass("hideMe");setTimeout(function(){b("body.waitMe_body").find(".waitMe_container:not([data-waitme_id])").remove();b("body.waitMe_body").removeClass("waitMe_body hideMe")},200)})})(jQuery);
